[debug] [2024-11-03T21:59:26.515Z] ----------------------------------------------------------------------
[debug] [2024-11-03T21:59:26.518Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\bourb\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2024-11-03T21:59:26.518Z] CLI Version:   13.22.1
[debug] [2024-11-03T21:59:26.518Z] Platform:      win32
[debug] [2024-11-03T21:59:26.518Z] Node Version:  v20.16.0
[debug] [2024-11-03T21:59:26.518Z] Time:          Sun Nov 03 2024 22:59:26 GMT+0100 (heure normale dâ€™Europe centrale)
[debug] [2024-11-03T21:59:26.518Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-11-03T21:59:26.521Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2024-11-03T21:59:26.608Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-03T21:59:26.608Z] > authorizing via signed-in user (patrice.gamedev@gmail.com)
[debug] [2024-11-03T21:59:26.609Z] [iam] checking project gestion-stock-association for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2024-11-03T21:59:26.609Z] Checked if tokens are valid: false, expires at: 1729443780202
[debug] [2024-11-03T21:59:26.609Z] Checked if tokens are valid: false, expires at: 1729443780202
[debug] [2024-11-03T21:59:26.610Z] > refreshing access token with scopes: []
[debug] [2024-11-03T21:59:26.610Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-11-03T21:59:26.610Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-11-03T21:59:26.742Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-11-03T21:59:26.742Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-11-03T21:59:26.754Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/gestion-stock-association:testIamPermissions [none]
[debug] [2024-11-03T21:59:26.754Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/gestion-stock-association:testIamPermissions x-goog-quota-user=projects/gestion-stock-association
[debug] [2024-11-03T21:59:26.754Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/gestion-stock-association:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2024-11-03T21:59:26.882Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2024-11-03T21:59:26.883Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2024-11-03T21:59:27.455Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/gestion-stock-association:testIamPermissions 200
[debug] [2024-11-03T21:59:27.456Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/gestion-stock-association:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2024-11-03T21:59:27.456Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:27.456Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:27.457Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/gestion-stock-association [none]
[debug] [2024-11-03T21:59:27.696Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/gestion-stock-association 200
[debug] [2024-11-03T21:59:27.696Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/gestion-stock-association {"projectId":"gestion-stock-association","projectNumber":"927087402110","displayName":"gestion-stock-association","name":"projects/gestion-stock-association","resources":{"hostingSite":"gestion-stock-association","storageBucket":"gestion-stock-association.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_1adde012-55ec-4d11-8f2f-6208c6e5d9f8"}
[info] 
[info] === Deploying to 'gestion-stock-association'...
[info] 
[info] i  deploying storage, firestore, hosting 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2024-11-03T21:59:27.703Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:27.703Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:27.704Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/gestion-stock-association/services/firebasestorage.googleapis.com [none]
[debug] [2024-11-03T21:59:27.704Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/gestion-stock-association/services/firebasestorage.googleapis.com x-goog-quota-user=projects/gestion-stock-association
[debug] [2024-11-03T21:59:28.567Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/gestion-stock-association/services/firebasestorage.googleapis.com 200
[debug] [2024-11-03T21:59:28.567Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/gestion-stock-association/services/firebasestorage.googleapis.com [omitted]
[info] +  storage: required API firebasestorage.googleapis.com is enabled 
[debug] [2024-11-03T21:59:28.567Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:28.567Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:28.567Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/gestion-stock-association/defaultBucket [none]
[debug] [2024-11-03T21:59:29.038Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/gestion-stock-association/defaultBucket 200
[debug] [2024-11-03T21:59:29.039Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/gestion-stock-association/defaultBucket {"name":"projects/gestion-stock-association/defaultBucket","location":"EU","bucket":{"name":"projects/gestion-stock-association/buckets/gestion-stock-association.appspot.com"}}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2024-11-03T21:59:29.041Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:29.041Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:29.042Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test [none]
[debug] [2024-11-03T21:59:29.042Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test [omitted]
[debug] [2024-11-03T21:59:29.743Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test 200
[debug] [2024-11-03T21:59:29.743Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test {}
[info] +  firebase.storage: rules file storage.rules compiled successfully 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2024-11-03T21:59:29.746Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:29.746Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:29.746Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test [none]
[debug] [2024-11-03T21:59:29.746Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test [omitted]
[debug] [2024-11-03T21:59:30.414Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test 200
[debug] [2024-11-03T21:59:30.414Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/gestion-stock-association:test {"issues":[{"sourcePosition":{"fileName":"firestore.rules"},"description":"Ruleset uses old version (version [1]). Please update to the latest version (version [2]).","severity":"WARNING"}]}
[warn] !  [W] undefined:undefined - Ruleset uses old version (version [1]). Please update to the latest version (version [2]). 
[info] +  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2024-11-03T21:59:30.417Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:30.417Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:30.418Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/gestion-stock-association/versions [none]
[debug] [2024-11-03T21:59:30.418Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/gestion-stock-association/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-11-03T21:59:31.625Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/gestion-stock-association/versions 200
[debug] [2024-11-03T21:59:31.625Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/gestion-stock-association/versions {"name":"projects/927087402110/sites/gestion-stock-association/versions/8edc54fcd0e340a8","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-11-03T21:59:31.626Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:31.627Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:31.628Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/releases pageSize=10&pageToken=
[debug] [2024-11-03T21:59:31.923Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/releases 200
[debug] [2024-11-03T21:59:31.923Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/releases {"releases":[{"name":"projects/gestion-stock-association/releases/cloud.firestore","rulesetName":"projects/gestion-stock-association/rulesets/ae040bd1-6cd6-467d-8aab-9765f2e4ff6a","createTime":"2024-09-14T07:23:41.043402Z","updateTime":"2024-11-03T19:38:48.592107Z"},{"name":"projects/gestion-stock-association/releases/firebase.storage/gestion-stock-association.appspot.com","rulesetName":"projects/gestion-stock-association/rulesets/45ff8b66-6725-46d7-96eb-2b62e5cc934c","createTime":"2024-09-14T07:43:23.102865Z","updateTime":"2024-10-20T16:04:31.856682Z"}]}
[debug] [2024-11-03T21:59:31.934Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:31.934Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:31.934Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/rulesets/45ff8b66-6725-46d7-96eb-2b62e5cc934c [none]
[debug] [2024-11-03T21:59:32.559Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/rulesets/45ff8b66-6725-46d7-96eb-2b62e5cc934c 200
[debug] [2024-11-03T21:59:32.559Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/rulesets/45ff8b66-6725-46d7-96eb-2b62e5cc934c [omitted]
[info] i  storage: latest version of storage.rules already up to date, skipping upload... 
[debug] [2024-11-03T21:59:32.560Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:32.560Z] Checked if tokens are valid: true, expires at: 1730674765742
[info] i  firestore: deploying indexes... 
[debug] [2024-11-03T21:59:32.561Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:32.561Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:32.561Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/releases pageSize=10&pageToken=
[debug] [2024-11-03T21:59:32.562Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/gestion-stock-association/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2024-11-03T21:59:32.775Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/gestion-stock-association/databases/(default)/collectionGroups/-/indexes 200
[debug] [2024-11-03T21:59:32.775Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/gestion-stock-association/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/gestion-stock-association/databases/(default)/collectionGroups/materials/indexes/CICAgJim14AK","queryScope":"COLLECTION","fields":[{"fieldPath":"storageId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY"},{"name":"projects/gestion-stock-association/databases/(default)/collectionGroups/materials/indexes/CICAgOjXh4EK","queryScope":"COLLECTION","fields":[{"fieldPath":"category","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY"},{"name":"projects/gestion-stock-association/databases/(default)/collectionGroups/materials/indexes/CICAgJjF9oIK","queryScope":"COLLECTION","fields":[{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"name","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY"},{"name":"projects/gestion-stock-association/databases/(default)/collectionGroups/materials/indexes/CICAgJiUpoMK","queryScope":"COLLECTION","fields":[{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"category","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY"}]}
[debug] [2024-11-03T21:59:32.775Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:32.776Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:32.776Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/gestion-stock-association/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2024-11-03T21:59:32.860Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/gestion-stock-association/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2024-11-03T21:59:32.860Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/gestion-stock-association/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/gestion-stock-association/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[info] i  firestore: The following indexes are defined in your project but are not present in your firestore indexes file:
	(materials) -- (storageId,ASCENDING) (createdAt,DESCENDING) 
	(materials) -- (category,ASCENDING) (createdAt,DESCENDING) 
	(materials) -- (createdAt,DESCENDING) (name,DESCENDING) 
	(materials) -- (createdAt,DESCENDING) (category,DESCENDING)  
[debug] [2024-11-03T21:59:33.191Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/releases 200
[debug] [2024-11-03T21:59:33.191Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/releases {"releases":[{"name":"projects/gestion-stock-association/releases/cloud.firestore","rulesetName":"projects/gestion-stock-association/rulesets/ae040bd1-6cd6-467d-8aab-9765f2e4ff6a","createTime":"2024-09-14T07:23:41.043402Z","updateTime":"2024-11-03T19:38:48.592107Z"},{"name":"projects/gestion-stock-association/releases/firebase.storage/gestion-stock-association.appspot.com","rulesetName":"projects/gestion-stock-association/rulesets/45ff8b66-6725-46d7-96eb-2b62e5cc934c","createTime":"2024-09-14T07:43:23.102865Z","updateTime":"2024-10-20T16:04:31.856682Z"}]}
[debug] [2024-11-03T21:59:33.191Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:33.191Z] Checked if tokens are valid: true, expires at: 1730674765742
[debug] [2024-11-03T21:59:33.192Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/rulesets/ae040bd1-6cd6-467d-8aab-9765f2e4ff6a [none]
[debug] [2024-11-03T21:59:33.506Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/rulesets/ae040bd1-6cd6-467d-8aab-9765f2e4ff6a 200
[debug] [2024-11-03T21:59:33.507Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/gestion-stock-association/rulesets/ae040bd1-6cd6-467d-8aab-9765f2e4ff6a [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 
